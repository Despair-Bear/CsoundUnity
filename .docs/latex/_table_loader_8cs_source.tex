\hypertarget{_table_loader_8cs_source}{}\doxysection{Table\+Loader.\+cs}
\label{_table_loader_8cs_source}\index{Samples$\sim$/GranularSynthesis/Scripts/TableLoader.cs@{Samples$\sim$/GranularSynthesis/Scripts/TableLoader.cs}}
\mbox{\hyperlink{_table_loader_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00001}00001 \textcolor{keyword}{using} System.Collections;}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00002}00002 \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00004}00004 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_csound_1_1_granular_synthesis_1_1_partikkel}{Csound.GranularSynthesis.Partikkel}}}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00005}00005 \{}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00006}00006     [RequireComponent(typeof(\mbox{\hyperlink{class_csound_unity}{CsoundUnity}}))]}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00007}\mbox{\hyperlink{class_csound_1_1_granular_synthesis_1_1_partikkel_1_1_table_loader}{00007}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_csound_1_1_granular_synthesis_1_1_partikkel_1_1_table_loader}{TableLoader}} : MonoBehaviour}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00008}00008     \{}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00009}00009         [Tooltip(\textcolor{stringliteral}{"{}The audio clip from which the samples will be loaded. It must reside inside a Resources folder"{}})]}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00010}00010         [SerializeField] AudioClip \_source;}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00011}00011         [Tooltip(\textcolor{stringliteral}{"{}The Csound table number that will be created and filled with the loaded samples"{}})]}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00012}00012         [SerializeField] \textcolor{keywordtype}{int} \_tableNumber = 100;}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00014}00014         \mbox{\hyperlink{class_csound_unity}{CsoundUnity}} \_csound;}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00016}00016         IEnumerator Start()}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00017}00017         \{}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00018}00018             \_csound = GetComponent<CsoundUnity>();}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00019}00019             \textcolor{keywordflow}{if} (!\_csound)}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00020}00020             \{}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00021}00021                 Debug.LogWarning(\textcolor{stringliteral}{"{}Csound not found?"{}});}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00022}00022                 yield \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00023}00023             \}}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00025}00025             \textcolor{keywordflow}{while} (!\_csound.\mbox{\hyperlink{class_csound_unity_ae2c648d0f6245fb84c5f9ec5176079ff}{IsInitialized}})}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00026}00026             \{}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00027}00027                 yield \textcolor{keywordflow}{return} \textcolor{keyword}{null}; \textcolor{comment}{//waiting for initialization}}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00028}00028             \}}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00030}00030             yield \textcolor{keywordflow}{return} \mbox{\hyperlink{class_csound_unity}{CsoundUnity}}.\mbox{\hyperlink{class_csound_unity_a7c1bf18317f33df52f9520a5913bd5df}{GetSamples}}(\_source.name, \mbox{\hyperlink{class_csound_unity}{CsoundUnity}}.\mbox{\hyperlink{class_csound_unity_a541b29144ff702a17b79777bd4702f3e}{SamplesOrigin}}.Resources, (samples) =>}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00031}00031             \{}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00032}00032                 Debug.Log(\$\textcolor{stringliteral}{"{}samples loaded: \{samples.Length\}, creating table \#\{\_tableNumber\}"{}});}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00033}00033                 var res = \_csound.CreateTable(\_tableNumber, samples);}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00034}00034                 \_csound.SetChannel(\$\textcolor{stringliteral}{"{}sampletable\{\_tableNumber\}"{}}, \_tableNumber);}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00035}00035                 if (res == 0) Debug.Log(\$\textcolor{stringliteral}{"{}Created table \{\_tableNumber\}!"{}});}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00036}00036                 else Debug.LogError(\textcolor{stringliteral}{"{}Cannot create table"{}});}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00037}00037             \});}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00038}00038         \}}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00039}00039     \}}
\DoxyCodeLine{\Hypertarget{_table_loader_8cs_source_l00040}00040 \}}

\end{DoxyCode}
