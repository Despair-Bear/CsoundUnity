\hypertarget{_parameters_controller_8cs_source}{}\doxysection{Parameters\+Controller.\+cs}
\label{_parameters_controller_8cs_source}\index{Samples$\sim$/GranularSynthesis/Scripts/ParametersController.cs@{Samples$\sim$/GranularSynthesis/Scripts/ParametersController.cs}}
\mbox{\hyperlink{_parameters_controller_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00001}00001 \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00003}00003 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_csound_1_1_granular_synthesis_1_1_partikkel}{Csound.GranularSynthesis.Partikkel}}}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00004}00004 \{}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00005}00005     [RequireComponent(typeof(\mbox{\hyperlink{class_csound_unity}{CsoundUnity}}))]}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00006}\mbox{\hyperlink{class_csound_1_1_granular_synthesis_1_1_partikkel_1_1_parameters_controller}{00006}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_csound_1_1_granular_synthesis_1_1_partikkel_1_1_parameters_controller}{ParametersController}} : MonoBehaviour}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00007}00007     \{}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00008}00008         [Tooltip(\textcolor{stringliteral}{"{}The prefab to be used as ParameterSetter. Requires a ParameterSetter script"{}})]}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00009}00009         [SerializeField] GameObject \_parameterCubePrefab;}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00010}00010         [Tooltip(\textcolor{stringliteral}{"{}The area to which the parameters will be remapped to"{}})]}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00011}00011         [SerializeField] Vector2 \_parametersAreaSizes;}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00012}00012         [Tooltip(\textcolor{stringliteral}{"{}The player position will be used to update the graphic appearance of ParameterSetters"{}})]}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00013}00013         [SerializeField] GameObject \_player;}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00015}00015         \mbox{\hyperlink{class_csound_unity}{CsoundUnity}} \_csound;}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00017}00017         \textcolor{keywordtype}{void} Start()}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00018}00018         \{}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00019}00019             \_csound = GetComponent<CsoundUnity>();}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00020}00020             var chanList = \_csound.\mbox{\hyperlink{class_csound_unity_a24578813ccc8a26ff4df2db4d8f8863b}{channels}};}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00021}00021             \textcolor{keywordflow}{for} (var i = 0; i < chanList.Count; i += 2)}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00022}00022             \{}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00023}00023                 var paramGO = Instantiate(\_parameterCubePrefab);}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00024}00024                 var setter = paramGO.GetComponent<\mbox{\hyperlink{class_csound_1_1_granular_synthesis_1_1_partikkel_1_1_parameter_setter}{ParameterSetter}}>();}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00025}00025                 var minPosition = \textcolor{keyword}{new} Vector2(-\/\_parametersAreaSizes.x / 2, -\/\_parametersAreaSizes.y / 2);}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00026}00026                 var maxPosition = \textcolor{keyword}{new} Vector2(\_parametersAreaSizes.x / 2, \_parametersAreaSizes.y / 2);}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00027}00027                 \textcolor{comment}{// each prefab will manage two channels, one will be controlled by the position on the x axis and the other on the z axis}}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00028}00028                 \textcolor{comment}{// look just for channels of the type "{}slider"{}}}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00029}00029                 \textcolor{keywordflow}{while} (!chanList[i].type.Contains(\textcolor{stringliteral}{"{}slider"{}}))}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00030}00030                 \{}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00031}00031                     i++;}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00032}00032                     \textcolor{keywordflow}{if} (i >= chanList.Count) \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00033}00033                 \}}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00034}00034                 \textcolor{comment}{// do some checks for the second channel, check for index overflow or if it's not a slider: in those case it will be null}}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00035}00035                 var zChan = (i + 1) >= chanList.Count ? \textcolor{keyword}{null} : !chanList[i + 1].type.Contains(\textcolor{stringliteral}{"{}slider"{}}) ? null : chanList[i + 1];}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00036}00036                 setter.Init(\_csound, \_player, chanList[i], zChan, minPosition, maxPosition);}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00037}00037             \}}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00038}00038         \}}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00039}00039     \}}
\DoxyCodeLine{\Hypertarget{_parameters_controller_8cs_source_l00040}00040 \}}

\end{DoxyCode}
