Once you have attached a \mbox{\hyperlink{namespace_csound}{Csound}} file to a \mbox{\hyperlink{class_csound_unity}{Csound\+Unity}} component, you may wish to control aspects of that instrument in realtime. Before calling any \mbox{\hyperlink{class_csound_unity}{Csound\+Unity}} methods, one must first access the component using the {\bfseries{Get\+Component()}} method. This can be seen the simple script that follows. One usually calls Get\+Component() in your script\textquotesingle{}s {\bfseries{Awake()}} or {\bfseries{Start()}} methods. You can also wait for \mbox{\hyperlink{namespace_csound}{Csound}} to be initialised before executing your code. Once the \mbox{\hyperlink{class_csound_unity}{Csound\+Unity}} component has been accessed, any of its member methods can be called.

See some examples below\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{class_csound_unity}{CsoundUnity}} csound;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void} Start()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    csound = GetComponent<CsoundUnity>();        }
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void} Update()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (!csound.\mbox{\hyperlink{class_csound_unity_ae2c648d0f6245fb84c5f9ec5176079ff}{IsInitialized}}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{    \textcolor{comment}{// your code}}
\DoxyCodeLine{\}}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{class_csound_unity}{CsoundUnity}} csound;}
\DoxyCodeLine{}
\DoxyCodeLine{IEnumerator Start()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    csound = GetComponent<CsoundUnity>();}
\DoxyCodeLine{    \textcolor{keywordflow}{while} (!csound.\mbox{\hyperlink{class_csound_unity_ae2c648d0f6245fb84c5f9ec5176079ff}{IsInitialized}})}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        yield \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    }
\DoxyCodeLine{    \textcolor{comment}{// your code}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Update is called once per frame}}
\DoxyCodeLine{\textcolor{keywordtype}{void} Update()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{comment}{// your code}}
\DoxyCodeLine{\}}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{class_csound_unity}{CsoundUnity}} csound;}
\DoxyCodeLine{\textcolor{keyword}{private} \textcolor{keywordtype}{bool} initialized;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{private} \textcolor{keywordtype}{void} Start()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    csound = GetComponent<CsoundUnity>();}
\DoxyCodeLine{    csound.\mbox{\hyperlink{class_csound_unity_a066fb6573f60c343aebb79f7a202cac5}{OnCsoundInitialized}} += Csound\_OnCsoundInitialized;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{private} \textcolor{keywordtype}{void} Csound\_OnCsoundInitialized()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    initialized = \textcolor{keyword}{true};}
\DoxyCodeLine{    Debug.Log(\textcolor{stringliteral}{"{}Csound initialised!"{}});}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Update is called once per frame}}
\DoxyCodeLine{\textcolor{keywordtype}{void} Update()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (!initialized) \textcolor{keywordflow}{return};}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// your code}}
\DoxyCodeLine{\}}

\end{DoxyCode}


{\bfseries{\mbox{\hyperlink{namespace_csound}{Csound}}\textquotesingle{}s channel system}}

\mbox{\hyperlink{namespace_csound}{Csound}} allows data to be sent and received over its channel system. To access data in \mbox{\hyperlink{namespace_csound}{Csound}}, one must use the {\bfseries{chnget}} opcode. In the following code example, we access data being sent from Unity to Csoud on a channel named {\itshape speed}. The variable k\+Speed will constantly update according to the value stored on the channel named {\itshape speed}.

\texorpdfstring{$<$}{<}img src=\char`\"{}images/chnget.\+png\char`\"{} alt=\char`\"{}\char`\"{}chnget\char`\"{}\char`\"{}/\texorpdfstring{$>$}{>}

In order to send data from Unity to \mbox{\hyperlink{namespace_csound}{Csound}} we must use the \href{https://github.com/rorywalsh/CsoundUnity/blob/c288e9054c39f8bb0e200f6a67338f6d2dbc6837/Runtime/CsoundUnity.cs\#L750}{\texttt{ {\bfseries{Csound\+Unity.\+Set\+Channel(string channel, double value)}}}} method. See the {\bfseries{Update()}} method of the script below\+:

\texorpdfstring{$<$}{<}img src=\char`\"{}images/set\+Channel.\+png\char`\"{} alt=\char`\"{}\char`\"{}set\+Channel\char`\"{}\char`\"{}/\texorpdfstring{$>$}{>}

Other examples\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// C\# code}}
\DoxyCodeLine{\textcolor{keywordflow}{if} (csoundUnity)}
\DoxyCodeLine{    csoundUnity.SetChannel(\textcolor{stringliteral}{"{}BPM"{}}, BPM);}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{;csd file}
\DoxyCodeLine{kBPM = abs(chnget:k(\textcolor{stringliteral}{"{}BPM"{}}))}

\end{DoxyCode}
 